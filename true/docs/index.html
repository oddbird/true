

<!DOCTYPE html>
<html lang="en" data-herman="root">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <title>True Documentation</title>

  <link href="assets/img/favicon.ico" rel="shortcut icon">
  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,600|Source+Sans+3:400,400i,700,700i" rel="stylesheet">

  <link rel="stylesheet" href="assets/webpack/app_styles.min.css" />

  

  
</head>
<body data-herman="body">
  <svg xmlns="http://www.w3.org/2000/svg" hidden>
  <symbol id="icon-logo" viewBox="0 0 16 16">
    <path d="M.2 8 0 7.8v-.2C.8 6.9 1.9 5.9 2.7 5l.4.3c-.5.8-1.1 1.6-1.8 2.3 1 1.2 1 1.3 1.7 2.4l-.4.3c-.4-.4-.5-.6-1-1C1 8.6 1.1 8.7.2 8M13 10c.6-1.1.7-1.1 1.7-2.4-.6-.6-1.3-1.5-1.7-2.3l.3-.3c.8.8 1.8 1.8 2.7 2.6v.2l-.8.7c-.3.3-1.2 1.1-1.8 1.7z"/><path d="M2.6 13.1H3c.9 0 1.1-.2 1.1-1.4V4.2c0-1.1-.2-1.4-1.1-1.4h-.4v-.6h4.5v.7h-.3c-.9 0-1.1.2-1.1 1.4v3.2h4.6V4.2c0-1.1-.2-1.4-1.1-1.4h-.3v-.6h4.5v.7H13c-.9 0-1.1.2-1.1 1.4v7.5c0 1.1.2 1.4 1.1 1.4h.4v.7H8.9v-.7h.3c.9 0 1.1-.2 1.1-1.4V8.2H5.7v3.5c0 1.1.2 1.4 1.1 1.4h.3v.7H2.6z"/>
  </symbol>
  <symbol id="icon-menu" viewBox="0 0 24 28">
    <path d="M24 21v2c0 .547-.453 1-1 1H1c-.547 0-1-.453-1-1v-2c0-.547.453-1 1-1h22c.547 0 1 .453 1 1m0-8v2c0 .547-.453 1-1 1H1c-.547 0-1-.453-1-1v-2c0-.547.453-1 1-1h22c.547 0 1 .453 1 1m0-8v2c0 .547-.453 1-1 1H1c-.547 0-1-.453-1-1V5c0-.547.453-1 1-1h22c.547 0 1 .453 1 1"/>
  </symbol>
</svg>

  <div data-region="app">
    <header data-region="banner">
      
  <button data-nav-toggle data-toggle="button" aria-controls="nav" aria-pressed="false" type="button" data-toggle-synced="false">
    
  <svg data-icon="menu" data-icon-size="nav-icon" ><title>menu</title><use xlink:href="#icon-menu" />
  </svg>

  </button>


      <div class="project-title">
        <a href="index.html" rel="home" class="project-name">True</a>
        
          <span class="project-version">10.1.0</span>
        
      </div>
    </header>

    <div data-region="container">
      
  <nav data-region="nav" data-toggle="target" id="nav" data-target-id="nav" aria-expanded="false" data-auto-closing="false" data-auto-closing-on-any-click="false">
    <form action="search.html">
      <input type="text" name="q" placeholder="Search…" required minlength="3">
    </form>

    <div class="nav-subsection">
      <h3 class="nav-home">
        
        <a href="index.html" data-nav="is-active">True</a>
      </h3>

      
      
        <ul>
          
            
            <li class="nav-item">
              <a href="CHANGELOG.html" data-nav="is-not-active">Changelog</a>
            </li>
          
            
            <li class="nav-item">
              <a href="CONTRIBUTING.html" data-nav="is-not-active">Contributing</a>
            </li>
          
            
            <li class="nav-item">
              <a href="LICENSE.html" data-nav="is-not-active">BSD3 License</a>
            </li>
          
        </ul>
      
    </div>

    
    <div class="nav-subsection">
      <ul>
            <li class="nav-subsection">
              <h3 class="nav-title">Structure</h3>
              <ul>
                
  
    <li class="nav-item">
      <a href="api-settings.html" data-nav="is-not-active">Optional Configuration</a>
    </li>
  
  
    <li class="nav-item">
      <a href="api-test.html" data-nav="is-not-active">Describing Tests</a>
    </li>
  
  
    <li class="nav-item">
      <a href="api-report.html" data-nav="is-not-active">Reporting Results</a>
    </li>
  </ul>
            </li>
            <li class="nav-subsection">
              <h3 class="nav-title">Assertions</h3>
              <ul>
                
  
    <li class="nav-item">
      <a href="api-assert-values.html" data-nav="is-not-active">Testing Return<span class="widont">&nbsp;</span>Values</a>
    </li>
  
  
    <li class="nav-item">
      <a href="api-assert-output.html" data-nav="is-not-active">Testing CSS<span class="widont">&nbsp;</span>Output</a>
    </li>
  
  
    <li class="nav-item">
      <a href="api-errors.html" data-nav="is-not-active">Catching &amp; Testing<span class="widont">&nbsp;</span>Errors</a>
    </li>
  </ul>
            </li></ul>
    </div>

    
    

    
      <aside class="footer-credit">
        <a href="https://www.oddbird.net/herman/" class="footer-icon">
          
  <svg data-icon="logo" data-icon-size="footer-logo" ><use xlink:href="#icon-logo" />
  </svg>

        </a>
        <span>
          Documented with
          <a href="https://www.oddbird.net/herman/" class="footer-link">
            Herman
          </a>
        </span>
        <span>
          by
          <a href="https://www.oddbird.net/" class="footer-link">
            OddBird
          </a>
        </span>
      </aside>
    
  </nav>


      <main data-region="main">
        

        <div data-page="index">
          
  
  
    <ul class="project-links">
      
        <li class="project-link-item">
          <a href="https://www.oddbird.net/true/" class="project-link">View Project</a>
        </li>
      
      
        <li class="project-link-item">
          <a href="https://github.com/oddbird/true.git" class="project-link">View Source</a>
        </li>
      
    </ul>
  

  
    <div class="text-block">
      <h1 id="true" tabindex="-1">True</h1>
<p><a href="https://opensource.org/licenses/BSD-3-Clause"><img src="https://img.shields.io/badge/License-BSD%203--Clause-blue.svg" alt="License"></a></p>
<blockquote>
<p><strong>true</strong> (<em>verb</em>): To make even, accurate, or precise.
<em>“True the wheels of a bicycle. True up the sides of a door. True your Sass
code before you<span class="widont">&nbsp;</span>deploy.”</em></p>
</blockquote>
<p><strong>True is a unit-testing tool for <a href="https://sass-lang.com/">Sass</a><span class="widont">&nbsp;</span>code.</strong></p>
<ul>
<li>Write tests in plain<span class="widont">&nbsp;</span>Sass</li>
<li>Compile with Dart<span class="widont">&nbsp;</span>Sass</li>
<li>Optional <a href="#javascript-test-runner-integration">JavaScript test runner integration</a> (e.g.
<a href="https://mochajs.org/">Mocha</a>, <a href="https://jestjs.io/">Jest</a>, or
<a href="https://vitest.dev/">Vitest</a>)</li>
</ul>
<h2 id="installation" tabindex="-1">Installation</h2>
<h3 id="1-install-via-npm" tabindex="-1">1. Install via<span class="widont">&nbsp;</span>npm</h3>
<pre><code class="lang-bash">npm install --save-dev sass-true
</code></pre>
<h3 id="2-install-dart-sass-if-needed-" tabindex="-1">2. Install Dart Sass (if<span class="widont">&nbsp;</span>needed)</h3>
<p>True requires <strong>Dart Sass v1.45.0 or higher</strong>:</p>
<pre><code class="lang-bash">npm install --save-dev sass-embedded # or `sass`
</code></pre>
<h3 id="3-import-in-your-sass-tests" tabindex="-1">3. Import in your Sass<span class="widont">&nbsp;</span>tests</h3>
<p><strong>With <a href="https://sass-lang.com/documentation/js-api/classes/nodepackageimporter/">Node.js package importer</a></strong>:</p>
<pre><code class="lang-scss">@use 'pkg:sass-true' as *;
</code></pre>
<p><strong>With <a href="#javascript-test-runner-integration">JavaScript test runner</a>:</strong></p>
<pre><code class="lang-scss">@use 'true' as *;
</code></pre>
<p><strong>Without package importer:</strong></p>
<pre><code class="lang-scss">// Path may vary based on your project structure
@use '../node_modules/sass-true' as *;
</code></pre>
<h2 id="configuration" tabindex="-1">Configuration</h2>
<p>True has one configuration variable: <strong><code>$terminal-output</code></strong> (boolean, defaults
to <code>true</code>)</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Behavior</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>true</code> (default)</td>
<td>Shows detailed terminal output for debugging and results. Best for standalone Sass compilation.</td>
</tr>
<tr>
<td><code>false</code></td>
<td>Disables Sass terminal output. Use with <a href="#javascript-test-runner-integration">JavaScript test runners</a> (they handle their own reporting).</td>
</tr>
</tbody>
</table>
<h3 id="legacy-import-support" tabindex="-1">Legacy <code>@import</code> Support</h3>
<p>If you’re still using <code>@import</code> instead of <code>@use</code>, use the legacy import path
with the prefixed variable<span class="widont">&nbsp;</span>name:</p>
<pre><code class="lang-scss">// Path may vary
@import '../node_modules/sass-true/sass/true';
// Variable is named $true-terminal-output
</code></pre>
<h2 id="usage" tabindex="-1">Usage</h2>
<p>True uses familiar testing syntax inspired by JavaScript test<span class="widont">&nbsp;</span>frameworks:</p>
<h3 id="testing-values-functions-variables-" tabindex="-1">Testing Values (Functions &amp;<span class="widont">&nbsp;</span>Variables)</h3>
<p>True can compare Sass values during<span class="widont">&nbsp;</span>compilation:</p>
<pre><code class="lang-scss">@include describe('Zip [function]') {
  @include it('Zips multiple lists into a single multi-dimensional list') {
    // Assert the expected results
    @include assert-equal(zip(a b c, 1 2 3), (a 1, b 2, c 3));
  }
}
</code></pre>
<p><strong>Alternative syntax</strong> using <code>test-module</code> and <code>test</code>:</p>
<pre><code class="lang-scss">@include test-module('Zip [function]') {
  @include test('Zips multiple lists into a single multi-dimensional list') {
    // Assert the expected results
    @include assert-equal(zip(a b c, 1 2 3), (a 1, b 2, c 3));
  }
}
</code></pre>
<h3 id="testing-css-output-mixins-" tabindex="-1">Testing CSS Output<span class="widont">&nbsp;</span>(Mixins)</h3>
<p>CSS output tests require a different assertion structure, with an outer <code>assert</code>
mixin, and a matching pair of <code>output</code> and <code>expect</code> to contain the<span class="widont">&nbsp;</span>output-values:</p>
<pre><code class="lang-scss">// Test CSS output from mixins
@include it('Outputs a font size and line height based on keyword') {
  @include assert {
    @include output {
      @include font-size('large');
    }

    @include expect {
      font-size: 2rem;
      line-height: 3rem;
    }
  }
}
</code></pre>
<blockquote>
<p><strong>Note:</strong> CSS output is compared after compilation. You can review changes
manually with <code>git diff</code> or use a <a href="#javascript-test-runner-integration">JavaScript test runner</a> for
automated<span class="widont">&nbsp;</span>comparison.</p>
</blockquote>
<h3 id="optional-summary-report" tabindex="-1">Optional Summary Report</h3>
<p>Display a test summary in CSS output and/or<span class="widont">&nbsp;</span>terminal:</p>
<pre><code class="lang-scss">@include report;
</code></pre>
<h3 id="documentation-changelog" tabindex="-1">Documentation &amp; Changelog</h3>
<ul>
<li><strong><a href="https://www.oddbird.net/true/docs/">Full Documentation</a></strong> – Complete API
reference and<span class="widont">&nbsp;</span>guides</li>
<li><strong><a href="https://github.com/oddbird/true/blob/main/CHANGELOG.md">CHANGELOG.md</a></strong> –
Migration notes for<span class="widont">&nbsp;</span>upgrading</li>
</ul>
<h2 id="javascript-test-runner-integration" tabindex="-1">JavaScript Test Runner<span class="widont">&nbsp;</span>Integration</h2>
<p>Integrate True with your existing JS test runner for enhanced reporting and
automated CSS output<span class="widont">&nbsp;</span>comparison.</p>
<h3 id="quick-start" tabindex="-1">Quick Start</h3>
<h4 id="1-install-dependencies" tabindex="-1">1. Install dependencies</h4>
<pre><code class="lang-bash">npm install --save-dev sass-true
npm install --save-dev sass-embedded # or `sass` (if not already installed)
</code></pre>
<h4 id="2-write-sass-tests" tabindex="-1">2. Write Sass<span class="widont">&nbsp;</span>tests</h4>
<p>Create your Sass test file (e.g., <code>test/test.scss</code>) using True’s syntax (see
<a href="#usage">Usage</a>).</p>
<h4 id="3-create-js-test-file" tabindex="-1">3. Create JS test<span class="widont">&nbsp;</span>file</h4>
<p>Create a JavaScript shim to run your Sass tests (e.g., <code>test/sass.test.js</code>):</p>
<pre><code class="lang-js">import path from 'node:path';
import { fileURLToPath } from 'node:url';
import sassTrue from 'sass-true';

const __dirname = path.dirname(fileURLToPath(import.meta.url));

const sassFile = path.join(__dirname, 'test.scss');
sassTrue.runSass({ describe, it }, sassFile);
</code></pre>
<h4 id="4-run-your-tests" tabindex="-1">4. Run your<span class="widont">&nbsp;</span>tests</h4>
<p>Run Mocha, Jest, Vitest, or your test runner. Sass tests will appear in the
terminal<span class="widont">&nbsp;</span>output.</p>
<h3 id="enable-watch-mode-for-sass-files" tabindex="-1">Enable Watch Mode for Sass<span class="widont">&nbsp;</span>Files</h3>
<p>By default, <code>vitest --watch</code> and <code>jest --watch</code> don’t detect Sass file<span class="widont">&nbsp;</span>changes.</p>
<p><strong>Vitest solution:</strong> Add Sass files to <code>forceRerunTriggers</code>:</p>
<pre><code class="lang-js">// vitest.config.js
module.exports = defineConfig({
  test: {
    forceRerunTriggers: ['**/*.scss'],
  },
});
</code></pre>
<p>See <a href="https://vitest.dev/config/forcereruntriggers.html#forcereruntriggers">Vitest documentation</a> for<span class="widont">&nbsp;</span>details.</p>
<p><strong>Jest solution:</strong> Add <code>&quot;scss&quot;</code> to <code>moduleFileExtensions</code>:</p>
<pre><code class="lang-js">// jest.config.js
module.exports = {
  moduleFileExtensions: ['js', 'json', 'scss'],
};
</code></pre>
<p>See <a href="https://jestjs.io/docs/configuration#modulefileextensions-arraystring">Jest documentation</a> for<span class="widont">&nbsp;</span>details.</p>
<h3 id="advanced-configuration" tabindex="-1">Advanced Configuration</h3>
<h4 id="runsass-api" tabindex="-1"><code>runSass()</code> API</h4>
<pre><code class="lang-js">sassTrue.runSass(testRunnerConfig, sassPathOrSource, sassOptions);
</code></pre>
<p><strong>Arguments:</strong></p>
<ol>
<li>
<p><strong><code>testRunnerConfig</code></strong> (object, required)</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>describe</code></td>
<td>function</td>
<td>Yes</td>
<td>Your test runner’s <code>describe</code> function</td>
</tr>
<tr>
<td><code>it</code></td>
<td>function</td>
<td>Yes</td>
<td>Your test runner’s <code>it</code> function</td>
</tr>
<tr>
<td><code>sass</code></td>
<td>string or object</td>
<td>No</td>
<td>Sass implementation name (<code>'sass'</code> or <code>'sass-embedded'</code>) or instance. Auto-detected if not provided.</td>
</tr>
<tr>
<td><code>sourceType</code></td>
<td><code>'string'</code> or <code>'path'</code></td>
<td>No</td>
<td>Set to <code>'string'</code> to compile inline Sass source instead of file path (default: <code>'path'</code>)</td>
</tr>
<tr>
<td><code>contextLines</code></td>
<td>number</td>
<td>No</td>
<td>Number of CSS context lines to show in parse errors (default: <code>10</code>)</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><strong><code>sassPathOrSource</code></strong> (<code>'string'</code> or <code>'path'</code>, required)</p>
<ul>
<li>File path to Sass test file,<span class="widont">&nbsp;</span>or</li>
<li>Inline Sass source code (if <code>sourceType: 'string'</code>)</li>
</ul>
</li>
<li>
<p><strong><code>sassOptions</code></strong> (object, optional)</p>
<ul>
<li>Standard <a href="https://sass-lang.com/documentation/js-api/interfaces/Options">Sass compile options</a>
(<code>importers</code>, <code>loadPaths</code>, <code>style</code>, etc.)</li>
<li><strong>Default modifications by True:</strong>
<ul>
<li><code>loadPaths</code>: True’s sass directory is automatically added (allowing <code>@use 'true';</code>)</li>
<li><code>importers</code>: <a href="https://sass-lang.com/documentation/js-api/classes/nodepackageimporter/">Node.js package importer</a> added if
<code>importers</code> is not defined and Dart Sass ≥ v1.71 (allowing <code>@use 'pkg:sass-true' as *;</code>)</li>
</ul>
</li>
<li>⚠️ <strong>Warning:</strong> Must use <code>style: 'expanded'</code> (default).
<code>style: 'compressed'</code> is not<span class="widont">&nbsp;</span>supported.</li>
</ul>
</li>
</ol>
<h4 id="multiple-test-files" tabindex="-1">Multiple Test Files</h4>
<p>Call <code>runSass()</code> multiple times to run separate test<span class="widont">&nbsp;</span>files:</p>
<pre><code class="lang-js">sassTrue.runSass({ describe, it }, path.join(__dirname, 'functions.test.scss'));
sassTrue.runSass({ describe, it }, path.join(__dirname, 'mixins.test.scss'));
</code></pre>
<h4 id="other-test-runners" tabindex="-1">Other Test Runners</h4>
<p>Any test runner with <code>describe</code>/<code>it</code> functions (or equivalents) works with<span class="widont">&nbsp;</span>True:</p>
<pre><code class="lang-js">// Example with custom test runner
import { suite, test } from 'my-test-runner';

sassTrue.runSass(
  { describe: suite, it: test },
  path.join(__dirname, 'test.scss'),
);
</code></pre>
<h4 id="custom-importers" tabindex="-1">Custom Importers</h4>
<p>If you use custom import syntax (e.g., tilde notation
<code>@use '~accoutrement/sass/tools'</code>), you’ll need to provide a
<a href="https://sass-lang.com/documentation/js-api/interfaces/FileImporter">custom importer</a>:</p>
<pre><code class="lang-js">import path from 'node:path';
import { fileURLToPath, pathToFileURL } from 'node:url';
import sassTrue from 'sass-true';

const __dirname = path.dirname(fileURLToPath(import.meta.url));

const importers = [
  {
    findFileUrl(url) {
      if (!url.startsWith('~')) {
        return null;
      }
      return new URL(
        pathToFileURL(path.resolve('node_modules', url.substring(1))),
      );
    },
  },
];

const sassFile = path.join(__dirname, 'test.scss');
sassTrue.runSass({ describe, it }, sassFile, { importers });
</code></pre>
<hr>
<h2 id="sponsor-oddbird-s-open-source-work" tabindex="-1">Sponsor OddBird’s Open Source<span class="widont">&nbsp;</span>Work</h2>
<p>At OddBird, we love contributing to the languages and tools developers rely on.
We’re currently working<span class="widont">&nbsp;</span>on:</p>
<ul>
<li>Polyfills for new Popover &amp; Anchor Positioning<span class="widont">&nbsp;</span>functionality</li>
<li>CSS specifications for functions, mixins, and responsive<span class="widont">&nbsp;</span>typography</li>
<li>Sass testing tools like<span class="widont">&nbsp;</span>True</li>
</ul>
<p><strong>Help us keep this work sustainable!</strong> Sponsor logos and avatars are featured
on our <a href="https://www.oddbird.net/true/#open-source-sponsors">website</a>.</p>
<p><strong><a href="https://opencollective.com/oddbird-open-source">→ Sponsor OddBird on Open<span class="widont">&nbsp;</span>Collective</a></strong></p>

    </div>
  

        </div>
      </main>
    </div>
  </div>

  <script type="text/javascript" src="assets/webpack/runtime.min.js"></script>
  <script type="text/javascript" src="assets/webpack/common.min.js"></script>
  <script type="text/javascript" src="assets/webpack/app.min.js"></script>
  
</body>
</html>
